/**
 * Pilpil v1.0.0 - Progressive Image Loading
 * @link https://zafree.github.io/pilpil
 * @copyright 2015-2023 Zafree
 * @license MIT
 */!function(){"use strict";for(var t=document.querySelectorAll(".progressiveMedia"),e=0;e<t.length;e++)!function(t){var e=t.dataset.width,e=t.dataset.height/e*100,e=(t.previousElementSibling.setAttribute("style","padding-bottom:"+e+"%;"),t.parentElement),i=e.offsetWidth,a=e.offsetHeight,e=(e.setAttribute("style","max-width:"+i+"px; max-height:"+a+"px;"),t.querySelector(".progressiveMedia-thumbnail")),i=e.width,a=e.height,s=t.querySelector(".progressiveMedia-canvas"),o=(s.getContext("2d"),s.height=a,s.width=i,new Image),a=(o.src=e.src,o.onload=function(){new CanvasImage(s,o).blur(2),t.classList.add("is-canvasLoaded")},t.querySelector(".progressiveMedia-image"));a.src=a.dataset.src,a.onload=function(){t.classList.add("is-imageLoaded")}}(t[e])}(),(CanvasImage=function(t,e){this.image=e,(this.element=t).width=e.width,t.height=e.height,this.context=t.getContext("2d"),this.context.drawImage(e,0,0)}).prototype={blur:function(t){this.context.globalAlpha=.5;for(var e=-t;e<=t;e+=2)for(var i=-t;i<=t;i+=2){this.context.drawImage(this.element,i,e);0<=i&&0<=e&&this.context.drawImage(this.element,-(i-1),-(e-1))}}};